{"ast":null,"code":"import _slicedToArray from\"C:/Users/Ankit Choudhary/Desktop/learn-react/top-course-starter/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _toConsumableArray from\"C:/Users/Ankit Choudhary/Desktop/learn-react/top-course-starter/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _objectSpread from\"C:/Users/Ankit Choudhary/Desktop/learn-react/top-course-starter/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState}from\"react\";import{ImCross}from\"react-icons/im\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Field=function Field(_ref){var _field$children;var field=_ref.field,onChange=_ref.onChange,onDelete=_ref.onDelete;var handleKeyChange=function handleKeyChange(e){onChange(_objectSpread(_objectSpread({},field),{},{key:e.target.value}));};var handleTypeChange=function handleTypeChange(e){var newType=e.target.value;var updatedField=_objectSpread(_objectSpread({},field),{},{type:newType,children:newType===\"Nested\"?[]:undefined});onChange(updatedField);};var handleAddChild=function handleAddChild(){var newChild={key:\"\",type:\"String\"};onChange(_objectSpread(_objectSpread({},field),{},{children:[].concat(_toConsumableArray(field.children||[]),[newChild])}));};var handleChildChange=function handleChildChange(index,updatedChild){var updatedChildren=_toConsumableArray(field.children);updatedChildren[index]=updatedChild;onChange(_objectSpread(_objectSpread({},field),{},{children:updatedChildren}));};var handleDeleteChild=function handleDeleteChild(index){var updatedChildren=_toConsumableArray(field.children);updatedChildren.splice(index,1);onChange(_objectSpread(_objectSpread({},field),{},{children:updatedChildren}));};return/*#__PURE__*/_jsxs(\"div\",{className:\"border p-4 my-2 rounded-lg shadow bg-white\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2 items-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:field.key,onChange:handleKeyChange,placeholder:\"Field Key\",className:\"border p-2 rounded w-1/3\"}),/*#__PURE__*/_jsxs(\"select\",{value:field.type,onChange:handleTypeChange,className:\"border p-2 rounded\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"String\",children:\"String\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Number\",children:\"Number\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Nested\",children:\"Nested\"}),/*#__PURE__*/_jsx(\"option\",{value:\"String\",children:\"ObjectId\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Number\",children:\"Float\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Nested\",children:\"Boolean\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Nested\",children:\"Array\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:onDelete,className:\"bg-red-500 text-white px-2 py-1 rounded hover:bg-red-600\",children:/*#__PURE__*/_jsx(ImCross,{})})]}),field.type===\"Nested\"&&/*#__PURE__*/_jsxs(\"div\",{className:\"ml-6 mt-4\",children:[(_field$children=field.children)===null||_field$children===void 0?void 0:_field$children.map(function(child,index){return/*#__PURE__*/_jsx(Field,{field:child,onChange:function onChange(updatedChild){return handleChildChange(index,updatedChild);},onDelete:function onDelete(){return handleDeleteChild(index);}},index);}),/*#__PURE__*/_jsx(\"button\",{onClick:handleAddChild,className:\"mt-2 bg-blue-500 text-white px-2 py-1 rounded hover:bg-blue-600\",children:\"+ Add Nested Field\"})]})]});};var JsonBuilder=function JsonBuilder(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),fields=_useState2[0],setFields=_useState2[1];var handleAddField=function handleAddField(){setFields([].concat(_toConsumableArray(fields),[{key:\"\",type:\"String\"}]));};var handleFieldChange=function handleFieldChange(index,updatedField){var newFields=_toConsumableArray(fields);newFields[index]=updatedField;setFields(newFields);};var handleDeleteField=function handleDeleteField(index){var newFields=_toConsumableArray(fields);newFields.splice(index,1);setFields(newFields);};var buildSchema=function buildSchema(fields){return fields.reduce(function(acc,field){if(!field.key)return acc;if(field.type===\"Nested\"){acc[field.key]=buildSchema(field.children||[]);}else{acc[field.key]=field.type;}return acc;},{});};var liveSchema=buildSchema(fields);return/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col md:flex-row p-6 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"w-full md:w-1/2\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold mb-4\",children:\"Project by Ankit Kumar Choudhary\"}),fields.map(function(field,index){return/*#__PURE__*/_jsx(Field,{field:field,onChange:function onChange(updatedField){return handleFieldChange(index,updatedField);},onDelete:function onDelete(){return handleDeleteField(index);}},index);}),/*#__PURE__*/_jsx(\"button\",{onClick:handleAddField,className:\"mt-4 bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600\",children:\"+ Add Field\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"w-full md:w-1/2\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold mb-2\",children:\"JSON Schema\"}),/*#__PURE__*/_jsx(\"pre\",{className:\"bg-gray-100 border rounded p-4 h-full max-h-[600px] overflow-auto\",children:JSON.stringify(liveSchema,null,2)})]})]});};export default JsonBuilder;","map":{"version":3,"names":["React","useState","ImCross","jsx","_jsx","jsxs","_jsxs","Field","_ref","_field$children","field","onChange","onDelete","handleKeyChange","e","_objectSpread","key","target","value","handleTypeChange","newType","updatedField","type","children","undefined","handleAddChild","newChild","concat","_toConsumableArray","handleChildChange","index","updatedChild","updatedChildren","handleDeleteChild","splice","className","placeholder","onClick","map","child","JsonBuilder","_useState","_useState2","_slicedToArray","fields","setFields","handleAddField","handleFieldChange","newFields","handleDeleteField","buildSchema","reduce","acc","liveSchema","JSON","stringify"],"sources":["C:/Users/Ankit Choudhary/Desktop/learn-react/top-course-starter/src/Components/JsonBuilder.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { ImCross } from \"react-icons/im\";\r\n\r\nconst Field = ({ field, onChange, onDelete }) => {\r\n  const handleKeyChange = (e) => {\r\n    onChange({ ...field, key: e.target.value });\r\n  };\r\n\r\n  const handleTypeChange = (e) => {\r\n    const newType = e.target.value;\r\n    const updatedField = {\r\n      ...field,\r\n      type: newType,\r\n      children: newType === \"Nested\" ? [] : undefined,\r\n    };\r\n    onChange(updatedField);\r\n  };\r\n\r\n  const handleAddChild = () => {\r\n    const newChild = { key: \"\", type: \"String\" };\r\n    onChange({\r\n      ...field,\r\n      children: [...(field.children || []), newChild],\r\n    });\r\n  };\r\n\r\n  const handleChildChange = (index, updatedChild) => {\r\n    const updatedChildren = [...field.children];\r\n    updatedChildren[index] = updatedChild;\r\n    onChange({ ...field, children: updatedChildren });\r\n  };\r\n\r\n  const handleDeleteChild = (index) => {\r\n    const updatedChildren = [...field.children];\r\n    updatedChildren.splice(index, 1);\r\n    onChange({ ...field, children: updatedChildren });\r\n  };\r\n\r\n  return (\r\n    <div className=\"border p-4 my-2 rounded-lg shadow bg-white\">\r\n      <div className=\"flex gap-2 items-center\">\r\n        <input\r\n          type=\"text\"\r\n          value={field.key}\r\n          onChange={handleKeyChange}\r\n          placeholder=\"Field Key\"\r\n          className=\"border p-2 rounded w-1/3\"\r\n        />\r\n        <select\r\n          value={field.type}\r\n          onChange={handleTypeChange}\r\n          className=\"border p-2 rounded\"\r\n        >\r\n          <option value=\"String\">String</option>\r\n          <option value=\"Number\">Number</option>\r\n          <option value=\"Nested\">Nested</option>\r\n          <option value=\"String\">ObjectId</option>\r\n          <option value=\"Number\">Float</option>\r\n          <option value=\"Nested\">Boolean</option>\r\n          <option value=\"Nested\">Array</option>\r\n        </select>\r\n        <button\r\n          onClick={onDelete}\r\n          className=\"bg-red-500 text-white px-2 py-1 rounded hover:bg-red-600\"\r\n        >\r\n          <ImCross/>\r\n        </button>\r\n      </div>\r\n\r\n      {field.type === \"Nested\" && (\r\n        <div className=\"ml-6 mt-4\">\r\n          {field.children?.map((child, index) => (\r\n            <Field\r\n              key={index}\r\n              field={child}\r\n              onChange={(updatedChild) =>\r\n                handleChildChange(index, updatedChild)\r\n              }\r\n              onDelete={() => handleDeleteChild(index)}\r\n            />\r\n          ))}\r\n          <button\r\n            onClick={handleAddChild}\r\n            className=\"mt-2 bg-blue-500 text-white px-2 py-1 rounded hover:bg-blue-600\"\r\n          >\r\n            + Add Nested Field\r\n          </button>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst JsonBuilder = () => {\r\n  const [fields, setFields] = useState([]);\r\n\r\n  const handleAddField = () => {\r\n    setFields([...fields, { key: \"\", type: \"String\" }]);\r\n  };\r\n\r\n  const handleFieldChange = (index, updatedField) => {\r\n    const newFields = [...fields];\r\n    newFields[index] = updatedField;\r\n    setFields(newFields);\r\n  };\r\n\r\n  const handleDeleteField = (index) => {\r\n    const newFields = [...fields];\r\n    newFields.splice(index, 1);\r\n    setFields(newFields);\r\n  };\r\n\r\n  const buildSchema = (fields) => {\r\n    return fields.reduce((acc, field) => {\r\n      if (!field.key) return acc;\r\n      if (field.type === \"Nested\") {\r\n        acc[field.key] = buildSchema(field.children || []);\r\n      } else {\r\n        acc[field.key] = field.type;\r\n      }\r\n      return acc;\r\n    }, {});\r\n  };\r\n\r\n  const liveSchema = buildSchema(fields);\r\n\r\n  return (\r\n    <div className=\"flex flex-col md:flex-row p-6 gap-6\">\r\n      {/* Builder Area */}\r\n      <div className=\"w-full md:w-1/2\">\r\n        <h1 className=\"text-2xl font-bold mb-4\">Project by Ankit Kumar Choudhary</h1>\r\n        {fields.map((field, index) => (\r\n          <Field\r\n            key={index}\r\n            field={field}\r\n            onChange={(updatedField) => handleFieldChange(index, updatedField)}\r\n            onDelete={() => handleDeleteField(index)}\r\n          />\r\n        ))}\r\n        <button\r\n          onClick={handleAddField}\r\n          className=\"mt-4 bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600\"\r\n        >\r\n          + Add Field\r\n        </button>\r\n      </div>\r\n\r\n      {/* JSON Preview Area */}\r\n      <div className=\"w-full md:w-1/2\">\r\n        <h2 className=\"text-xl font-semibold mb-2\">JSON Schema</h2>\r\n        <pre className=\"bg-gray-100 border rounded p-4 h-full max-h-[600px] overflow-auto\">\r\n          {JSON.stringify(liveSchema, null, 2)}\r\n        </pre>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default JsonBuilder;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}